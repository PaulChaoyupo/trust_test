<html lang="zh-Hant">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="UTF-8">
  <title>測驗結果</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
  <div class="max-w-4xl mx-auto p-4">
    <h2 class="text-2xl font-bold text-center mb-6 text-yellow-600">你的測驗結果分析</h2>
    <p id="basicInfo" class="text-center mb-6 text-gray-700">姓名 / 日期</p>

    <div class="bg-white rounded shadow p-4 mb-4">
      <canvas id="radarChart" class="mx-auto" width="300" height="300"></canvas>
    </div>

    <div id="radarBlock" class="bg-white rounded shadow p-4 mb-4">
      <h3 class="text-lg font-bold mb-2">雷達圖整體解說</h3>
      <div>雷達圖整體解說載入中...</div>
    </div>

    <div id="personaBlock" class="bg-white rounded shadow p-4 mb-4">
      <h3 class="text-lg font-bold mb-2">主導構面</h3>
      <div>主導構面敘述載入中...</div>
    </div>

    <div id="riskBlock" class="bg-white rounded shadow p-4 mb-4">
      <h3 class="text-lg font-bold mb-2">低分構面風險建議</h3>
      <div id="riskContainer">低分構面風險建議載入中...</div>
    </div>

    <div id="advBlock" class="bg-white rounded shadow p-4 mb-4">
      <h3 class="text-lg font-bold mb-2">優勢組合說明</h3>
      <div>優勢組合說明載入中...</div>
    </div>
  </div>

<script>
const SUPABASE_URL = 'https://wnbvamrjoydduriwaetd.supabase.co';
const SUPABASE_API_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InduYnZhbXJqb3lkZHVyaXdhZXRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYxODQ4MjEsImV4cCI6MjA2MTc2MDgyMX0.AT_f5N-Kctcbkns47PyYurHxP9Z2ktRtbGgpyaMe4Oc';

fetch(`${SUPABASE_URL}/rest/v1/results?select=*&order=created_at.desc&limit=1`, {
  headers: {
    'apikey': SUPABASE_API_KEY,
    'Authorization': `Bearer ${SUPABASE_API_KEY}`
  }
})
.then(response => response.json())
.then(data => {
  if (!data || data.length === 0) {
    document.body.innerHTML = "<h3 class='text-center text-red-600 mt-10'>⚠️ 找不到
