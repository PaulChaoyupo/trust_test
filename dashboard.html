
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Dashboard 資料管理工具</title>
</head>
<body>
  <h2>後台分析頁 + 資料管理工具</h2>
  <button onclick="exportData()">📥 匯出測驗資料</button>
  <button onclick="clearData()">♻️ 清除測驗資料</button>
  <input type="file" id="importFile" />
  <button onclick="importData()">🔄 還原資料</button>
  <script>
  function exportData(){const d=localStorage.getItem("trust_test_dataset")||"[]";const b=new Blob([d],{type:'application/json'});const l=document.createElement('a');l.href=URL.createObjectURL(b);l.download='trust_test_dataset.json';document.body.appendChild(l);l.click();}
  function clearData(){localStorage.removeItem("trust_test_dataset");localStorage.removeItem("trust_test_result");alert("✅ 已清除所有測驗資料");location.reload();}
  function importData(){const f=document.getElementById('importFile').files[0];if(!f)return alert("請選擇 JSON 檔案");const r=new FileReader();r.onload=e=>{try{const j=JSON.parse(e.target.result);if(!Array.isArray(j))throw new Error();localStorage.setItem("trust_test_dataset",JSON.stringify(j));alert("✅ 資料還原成功");location.reload();}catch{alert("❌ 讀取或格式錯誤");}};r.readAsText(f);}
  </script>
</body>
</html>
